@import "tailwindcss";

:root {
  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

  /* Professional Precision Palette (Light) */
  --bg: #ffffff;
  --fg: #0f172a;
  --card: #ffffff;
  --panel: #f8fafc;
  --border: #e2e8f0;
  --border-strong: #cbd5e1;

  /* Technical Palette (Light) */
  --bg: hsl(220, 20%, 98%);
  --fg: hsl(220, 10%, 10%);
  --card: hsl(0, 0%, 100%);
  --panel: hsl(220, 15%, 96%);
  --border: hsl(220, 15%, 90%);
  --border-strong: hsl(220, 15%, 82%);
  --item-bg: hsl(220, 15%, 94%);
  --item-hover: hsl(220, 15%, 91%);
  --text-primary: hsl(220, 10%, 10%);
  --text-secondary: hsl(220, 10%, 40%);
  --text-muted: hsl(220, 10%, 60%);

  --accent-primary: hsl(235, 85%, 60%);
  /* Clinical Indigo */
  --accent-secondary: hsl(155, 75%, 45%);
  /* Signal Emerald */
  --accent-warning: hsl(35, 100%, 50%);
  /* Alert Amber */
  --accent-critical: hsl(0, 85%, 60%);
  /* Danger Red */

  /* Precision Elevation */
  --shadow-flat: 0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px 0 rgba(0, 0, 0, 0.02);
  --shadow-tactile:
    0 4px 6px -1px rgba(0, 0, 0, 0.05),
    0 2px 4px -1px rgba(0, 0, 0, 0.03),
    inset 0 0 0 1px rgba(255, 255, 255, 0.5);
  --shadow-elevated:
    0 10px 15px -3px rgba(0, 0, 0, 0.06),
    0 4px 6px -2px rgba(0, 0, 0, 0.03),
    0 20px 25px -5px rgba(0, 0, 0, 0.02);
  --shadow-glass:
    0 8px 32px 0 rgba(31, 38, 135, 0.07);

  /* Precision Radii */
  --radius-xs: 0.3rem;
  --radius-sm: 0.5rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.5rem;
}

.dark {
  /* Technical Palette (Dark) */
  --bg: hsl(220, 10%, 8%);
  --fg: hsl(220, 10%, 90%);
  --card: hsl(220, 10%, 12%);
  --panel: hsl(220, 10%, 10%);
  --border: hsl(220, 10%, 20%);
  --border-strong: hsl(220, 10%, 30%);
  --item-bg: hsl(220, 10%, 15%);
  --item-hover: hsl(220, 10%, 20%);
  --text-primary: hsl(220, 10%, 90%);
  --text-secondary: hsl(220, 5%, 60%);
  --text-muted: hsl(220, 5%, 40%);

  --accent-primary: hsl(230, 90%, 65%);
  --accent-secondary: hsl(142, 70%, 50%);

  --shadow-flat: none;
  --shadow-tactile: none;
  --shadow-elevated: none;
}

body {
  background-color: var(--bg);
  color: var(--text-primary);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0;
  transition: background-color 0.2s, color 0.2s;
  letter-spacing: -0.011em;
}

/* Precision Panel - Sharp, structured container */
@utility precision-panel {
  @apply bg-[var(--panel)] border border-[var(--border)] rounded-lg overflow-hidden transition-all duration-300;
  box-shadow: var(--shadow-flat);
}

.precision-panel:hover {
  border-color: var(--border-strong);
}

/* Precision Card - Elevated interactive element */
@utility precision-card {
  @apply bg-[var(--card)] border border-[var(--border)] rounded-xl transition-all duration-300;
  box-shadow: var(--shadow-tactile);
}

.precision-card:hover {
  @apply -translate-y-0.5;
  border-color: var(--accent-primary);
  box-shadow: var(--shadow-elevated);
}

/* Typography Utilities */
@utility atlas-h1 {
  @apply text-4xl md:text-7xl font-bold tracking-tighter text-[var(--text-primary)] leading-[0.9];
}

@utility atlas-h2 {
  @apply text-2xl md:text-3xl font-bold tracking-tight text-[var(--text-primary)];
}

@utility atlas-h3 {
  @apply text-lg font-bold tracking-tight text-[var(--text-primary)];
}

@utility atlas-label {
  @apply text-[10px] font-bold text-[var(--text-muted)] font-sans uppercase tracking-[0.15em];
}

@utility atlas-mono {
  @apply font-mono font-medium;
  font-variant-numeric: tabular-nums;
}

/* Tabular data consistency */
.tabular {
  font-variant-numeric: tabular-nums;
}

/* Module Container */
@utility module-container {
  @apply flex flex-col px-8 py-6 h-[calc(100vh-80px)] overflow-y-auto custom-scrollbar w-full;
}

/* Buttons - Solid, tactile feel */
@utility btn-primary {
  @apply flex items-center gap-2 px-5 py-2.5 rounded-lg bg-[var(--accent-primary)] text-white font-bold text-xs uppercase tracking-wider transition-all duration-200 border border-transparent shadow-sm hover:shadow-md active:scale-[0.98];
}

@utility btn-secondary {
  @apply flex items-center gap-2 px-5 py-2.5 rounded-lg bg-[var(--item-bg)] border border-[var(--border)] text-[var(--text-primary)] font-bold text-xs uppercase tracking-wider transition-all duration-200 hover:bg-[var(--item-hover)] hover:border-[var(--border-strong)] active:scale-[0.98];
}

@utility btn-ghost {
  @apply p-2.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--item-bg)] transition-all duration-200;
}

/* Indicators */
@utility status-indicator {
  @apply w-1.5 h-1.5 rounded-full inline-block mr-2;
}

.status-emerald {
  background-color: var(--accent-secondary);
}

.status-amber {
  background-color: var(--accent-warning);
}

.status-red {
  background-color: var(--accent-critical);
}

@utility custom-scrollbar {
  &::-webkit-scrollbar {
    width: 4px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 4px;

    &:hover {
      background: var(--border-strong);
    }
  }
}

/* Glass Panel - Frosted overlay effect */
@utility glass-panel {
  @apply bg-[var(--panel)]/80 backdrop-blur-xl border border-[var(--border)] rounded-2xl;
  box-shadow: var(--shadow-glass);
}

/* Status Bullet Indicators (coloured dots) */
@utility status-bullet {
  @apply w-2 h-2 rounded-full inline-block;
}

.status-bullet-emerald {
  @apply bg-emerald-500;
}

.status-bullet-amber {
  @apply bg-amber-500;
}

.status-bullet-red {
  @apply bg-red-500;
}

/* Map specific overrides */
.leaflet-container {
  background-color: var(--bg);
}